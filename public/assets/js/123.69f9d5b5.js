(window.webpackJsonp=window.webpackJsonp||[]).push([[123],{606:function(s,n,e){"use strict";e.r(n);var a=e(59),r=Object(a.a)({},(function(){var s=this,n=s.$createElement,e=s._self._c||n;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"æœåŠ¡ç«¯æ¸²æŸ“çš„æ¢ç´¢ä¸å®è·µ"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡ç«¯æ¸²æŸ“çš„æ¢ç´¢ä¸å®è·µ"}},[s._v("#")]),s._v(" æœåŠ¡ç«¯æ¸²æŸ“çš„æ¢ç´¢ä¸å®è·µ")]),s._v(" "),e("p",[s._v("æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰è¿‘ä¸¤å¹´ç‚’å¾—å¾ˆç«çƒ­ï¼Œç›¸ä¿¡å„ä½åŒå­¦å¯¹è¿™ä¸ªåè¯å¤šå°‘æœ‰æ‰€è€³é—»ã€‚æœ¬èŠ‚æˆ‘ä»¬å°†å›´ç»•â€œæ˜¯ä»€ä¹ˆâ€ï¼ˆæœåŠ¡ç«¯æ¸²æŸ“çš„è¿è¡Œæœºåˆ¶ï¼‰ã€â€œä¸ºä»€ä¹ˆâ€ï¼ˆæœåŠ¡ç«¯æ¸²æŸ“è§£å†³äº†ä»€ä¹ˆæ€§èƒ½é—®é¢˜ ï¼‰ã€â€œæ€ä¹ˆåšâ€ï¼ˆæœåŠ¡ç«¯æ¸²æŸ“çš„åº”ç”¨å®ä¾‹ä¸ä½¿ç”¨åœºæ™¯ï¼‰è¿™ä¸‰ä¸ªç‚¹ï¼Œå¯¹æœåŠ¡ç«¯æ¸²æŸ“è¿›è¡Œæ¢ç´¢ã€‚")]),s._v(" "),e("p",[s._v("æœåŠ¡ç«¯æ¸²æŸ“æ˜¯ä¸€ä¸ªç›¸å¯¹çš„æ¦‚å¿µï¼Œå®ƒçš„å¯¹ç«‹é¢æ˜¯â€œå®¢æˆ·ç«¯æ¸²æŸ“â€ã€‚åœ¨è¿è¡Œæœºåˆ¶è§£æè¿™éƒ¨åˆ†ï¼Œæˆ‘ä»¬ä¼šå€ŸåŠ›å®¢æˆ·ç«¯æ¸²æŸ“çš„æ¦‚å¿µï¼Œæ¥å¸®å¤§å®¶ç†è§£æœåŠ¡ç«¯æ¸²æŸ“çš„å·¥ä½œæ–¹å¼ã€‚åŸºäºå¯¹å·¥ä½œæ–¹å¼çš„äº†è§£ï¼Œå†å»æ·±æŒ–å®ƒçš„åŸç†ä¸ä¼˜åŠ¿ã€‚")]),s._v(" "),e("p",[s._v("ä»»ä½•çŸ¥è¯†ç‚¹éƒ½ä¸æ˜¯â€œä¸€åº§å­¤å²›â€ï¼ŒæœåŠ¡ç«¯æ¸²æŸ“çš„å®è·µå¾€å¾€ä¸å½“ä¸‹æµè¡Œçš„å‰ç«¯æŠ€æœ¯ï¼ˆè­¬å¦‚ Vueï¼ŒReactï¼ŒRedux ç­‰ï¼‰ç´§å¯†ç»“åˆã€‚æœ¬èŠ‚ä¸‹åŠåœºå°†ä»¥ React å’Œ Vue ä¸‹çš„æœåŠ¡ç«¯æ¸²æŸ“å®ç°ä¸ºä¾‹ï¼Œä¸ºå¤§å®¶å‘ˆç°ä¸€ä¸ªå®Œæ•´çš„ SSR å®ç°è¿‡ç¨‹ã€‚")]),s._v(" "),e("h2",{attrs:{id:"æœåŠ¡ç«¯æ¸²æŸ“çš„è¿è¡Œæœºåˆ¶"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡ç«¯æ¸²æŸ“çš„è¿è¡Œæœºåˆ¶"}},[s._v("#")]),s._v(" æœåŠ¡ç«¯æ¸²æŸ“çš„è¿è¡Œæœºåˆ¶")]),s._v(" "),e("p",[s._v("ç›¸å¯¹äºæœåŠ¡ç«¯æ¸²æŸ“ï¼ŒåŒå­¦ä»¬æ™®éå¯¹å®¢æˆ·ç«¯æ¸²æŸ“æ¥å—åº¦æ›´é«˜ä¸€äº›ï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆä»å¤§å®¶å–œé—»ä¹è§çš„å®¢æˆ·ç«¯æ¸²æŸ“è¯´èµ·ã€‚")]),s._v(" "),e("h3",{attrs:{id:"å®¢æˆ·ç«¯æ¸²æŸ“"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å®¢æˆ·ç«¯æ¸²æŸ“"}},[s._v("#")]),s._v(" å®¢æˆ·ç«¯æ¸²æŸ“")]),s._v(" "),e("p",[s._v("å®¢æˆ·ç«¯æ¸²æŸ“æ¨¡å¼ä¸‹ï¼ŒæœåŠ¡ç«¯ä¼šæŠŠæ¸²æŸ“éœ€è¦çš„é™æ€æ–‡ä»¶å‘é€ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯åŠ è½½è¿‡æ¥ä¹‹åï¼Œè‡ªå·±åœ¨æµè§ˆå™¨é‡Œè·‘ä¸€é JSï¼Œæ ¹æ® JS çš„è¿è¡Œç»“æœï¼Œç”Ÿæˆç›¸åº”çš„ DOMã€‚è¿™ç§ç‰¹æ€§ä½¿å¾—å®¢æˆ·ç«¯æ¸²æŸ“çš„æºä»£ç æ€»æ˜¯ç‰¹åˆ«ç®€æ´ï¼Œå¾€å¾€æ˜¯è¿™ä¸ªå¾·è¡Œï¼š")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("<!doctype html>\n<html>\n  <head>\n    <title>æˆ‘æ˜¯å®¢æˆ·ç«¯æ¸²æŸ“çš„é¡µé¢</title>\n  </head>\n  <body>\n    <div id='root'></div>\n    <script src='index.js'><\/script>\n  </body>\n</html>\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])]),e("p",[s._v("æ ¹èŠ‚ç‚¹ä¸‹åˆ°åº•æ˜¯ä»€ä¹ˆå†…å®¹å‘¢ï¼Ÿä½ ä¸çŸ¥é“ï¼Œæˆ‘ä¸çŸ¥é“ï¼Œåªæœ‰æµè§ˆå™¨æŠŠ index.js è·‘è¿‡ä¸€éåæ‰çŸ¥é“ï¼Œè¿™å°±æ˜¯å…¸å‹çš„å®¢æˆ·ç«¯æ¸²æŸ“ã€‚")]),s._v(" "),e("p",[e("strong",[s._v("é¡µé¢ä¸Šå‘ˆç°çš„å†…å®¹ï¼Œä½ åœ¨ html æºæ–‡ä»¶é‡Œé‡Œæ‰¾ä¸åˆ°")]),s._v("â€”â€”è¿™æ­£æ˜¯å®ƒçš„ç‰¹ç‚¹ã€‚")]),s._v(" "),e("h3",{attrs:{id:"æœåŠ¡ç«¯æ¸²æŸ“"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡ç«¯æ¸²æŸ“"}},[s._v("#")]),s._v(" æœåŠ¡ç«¯æ¸²æŸ“")]),s._v(" "),e("p",[s._v("æœåŠ¡ç«¯æ¸²æŸ“çš„æ¨¡å¼ä¸‹ï¼Œå½“ç”¨æˆ·ç¬¬ä¸€æ¬¡è¯·æ±‚é¡µé¢æ—¶ï¼Œç”±æœåŠ¡å™¨æŠŠéœ€è¦çš„ç»„ä»¶æˆ–é¡µé¢æ¸²æŸ“æˆ HTML å­—ç¬¦ä¸²ï¼Œç„¶åæŠŠå®ƒè¿”å›ç»™å®¢æˆ·ç«¯ã€‚å®¢æˆ·ç«¯æ‹¿åˆ°æ‰‹çš„ï¼Œæ˜¯å¯ä»¥ç›´æ¥æ¸²æŸ“ç„¶åå‘ˆç°ç»™ç”¨æˆ·çš„ HTML å†…å®¹ï¼Œä¸éœ€è¦ä¸ºäº†ç”Ÿæˆ DOM å†…å®¹è‡ªå·±å†å»è·‘ä¸€é JS ä»£ç ã€‚")]),s._v(" "),e("p",[s._v("ä½¿ç”¨æœåŠ¡ç«¯æ¸²æŸ“çš„ç½‘ç«™ï¼Œå¯ä»¥è¯´æ˜¯â€œæ‰€è§å³æ‰€å¾—â€ï¼Œ"),e("strong",[s._v("é¡µé¢ä¸Šå‘ˆç°çš„å†…å®¹ï¼Œæˆ‘ä»¬åœ¨ html æºæ–‡ä»¶é‡Œä¹Ÿèƒ½æ‰¾åˆ°")]),s._v("ã€‚")]),s._v(" "),e("p",[s._v("æ¯”å¦‚çŸ¥ä¹å°±æ˜¯å…¸å‹çš„æœåŠ¡ç«¯æ¸²æŸ“æ¡ˆä¾‹ï¼š")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/9/26/166162c1cbad2c64?w=2736&h=582&f=png&s=351372",alt:""}})]),s._v(" "),e("p",[s._v("zhihu.com è¿”å›çš„ HTML æ–‡ä»¶å·²ç»æ˜¯å¯ä»¥ç›´æ¥è¿›è¡Œæ¸²æŸ“çš„å†…å®¹äº†ã€‚")]),s._v(" "),e("h2",{attrs:{id:"æœåŠ¡ç«¯æ¸²æŸ“è§£å†³äº†ä»€ä¹ˆæ€§èƒ½é—®é¢˜"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡ç«¯æ¸²æŸ“è§£å†³äº†ä»€ä¹ˆæ€§èƒ½é—®é¢˜"}},[s._v("#")]),s._v(" æœåŠ¡ç«¯æ¸²æŸ“è§£å†³äº†ä»€ä¹ˆæ€§èƒ½é—®é¢˜")]),s._v(" "),e("p",[s._v("äº‹å®ä¸Šï¼Œå¾ˆå¤šç½‘ç«™æ˜¯å‡ºäºæ•ˆç›Šçš„è€ƒè™‘æ‰å¯ç”¨æœåŠ¡ç«¯æ¸²æŸ“ï¼Œæ€§èƒ½å€’æ˜¯åœ¨å…¶æ¬¡ã€‚")]),s._v(" "),e("p",[s._v("å‡è®¾ A ç½‘ç«™é¡µé¢ä¸­æœ‰ä¸€ä¸ªå…³é”®å­—å«â€œå‰ç«¯æ€§èƒ½ä¼˜åŒ–â€ï¼Œè¿™ä¸ªå…³é”®å­—æ˜¯ JS ä»£ç è·‘è¿‡ä¸€éåæ·»åŠ åˆ° HTML é¡µé¢ä¸­çš„ã€‚é‚£ä¹ˆå®¢æˆ·ç«¯æ¸²æŸ“æ¨¡å¼ä¸‹ï¼Œæˆ‘ä»¬åœ¨æœç´¢å¼•æ“æœç´¢è¿™ä¸ªå…³é”®å­—ï¼Œæ˜¯æ‰¾ä¸åˆ° A ç½‘ç«™çš„â€”â€”æœç´¢å¼•æ“åªä¼šæŸ¥æ‰¾ç°æˆçš„å†…å®¹ï¼Œä¸ä¼šå¸®ä½ è·‘ JS ä»£ç ã€‚A ç½‘ç«™çš„è¿è¥æ–¹è§æ­¤æƒ…å½¢ï¼Œæ„Ÿåˆ°å¾ˆå¤´å¤§ï¼šæœç´¢å¼•æ“æœä¸å‡ºæ¥ï¼Œç”¨æˆ·æ‰¾ä¸åˆ°æˆ‘ä»¬ï¼Œè°è¿˜ä¼šç”¨æˆ‘çš„ç½‘ç«™å‘¢ï¼Ÿä¸ºäº†æŠŠâ€œç°æˆçš„å†…å®¹â€æ‹¿ç»™æœç´¢å¼•æ“çœ‹ï¼ŒA ç½‘ç«™ä¸å¾—ä¸å¯ç”¨æœåŠ¡ç«¯æ¸²æŸ“ã€‚")]),s._v(" "),e("p",[s._v("ä½†æ€§èƒ½åœ¨å…¶æ¬¡ï¼Œä¸ä»£è¡¨æ€§èƒ½ä¸é‡è¦ã€‚æœåŠ¡ç«¯æ¸²æŸ“è§£å†³äº†ä¸€ä¸ªéå¸¸å…³é”®çš„æ€§èƒ½é—®é¢˜â€”â€”é¦–å±åŠ è½½é€Ÿåº¦è¿‡æ…¢ã€‚åœ¨å®¢æˆ·ç«¯æ¸²æŸ“æ¨¡å¼ä¸‹ï¼Œæˆ‘ä»¬é™¤äº†åŠ è½½ HTMLï¼Œè¿˜è¦ç­‰æ¸²æŸ“æ‰€éœ€çš„è¿™éƒ¨åˆ† JS åŠ è½½å®Œï¼Œä¹‹åè¿˜å¾—æŠŠè¿™éƒ¨åˆ† JS åœ¨æµè§ˆå™¨ä¸Šå†è·‘ä¸€éã€‚è¿™ä¸€åˆ‡éƒ½æ˜¯å‘ç”Ÿåœ¨ç”¨æˆ·ç‚¹å‡»äº†æˆ‘ä»¬çš„é“¾æ¥ä¹‹åçš„äº‹æƒ…ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ç»“æŸä¹‹å‰ï¼Œç”¨æˆ·å§‹ç»ˆè§ä¸åˆ°æˆ‘ä»¬ç½‘é¡µçš„åºå±±çœŸé¢ç›®ï¼Œä¹Ÿå°±æ˜¯è¯´ç”¨æˆ·ä¸€ç›´åœ¨ç­‰ï¼ç›¸æ¯”ä¹‹ä¸‹ï¼ŒæœåŠ¡ç«¯æ¸²æŸ“æ¨¡å¼ä¸‹ï¼ŒæœåŠ¡å™¨ç»™åˆ°å®¢æˆ·ç«¯çš„å·²ç»æ˜¯ä¸€ä¸ªç›´æ¥å¯ä»¥æ‹¿æ¥å‘ˆç°ç»™ç”¨æˆ·çš„ç½‘é¡µï¼Œä¸­é—´ç¯èŠ‚æ—©åœ¨æœåŠ¡ç«¯å°±å¸®æˆ‘ä»¬åšæ‰äº†ï¼Œç”¨æˆ·å²‚ä¸â€œç¾æ»‹æ»‹â€ï¼Ÿ")]),s._v(" "),e("h2",{attrs:{id:"æœåŠ¡ç«¯æ¸²æŸ“çš„åº”ç”¨å®ä¾‹"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡ç«¯æ¸²æŸ“çš„åº”ç”¨å®ä¾‹"}},[s._v("#")]),s._v(" æœåŠ¡ç«¯æ¸²æŸ“çš„åº”ç”¨å®ä¾‹")]),s._v(" "),e("p",[s._v("ä¸‹é¢æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹åœ¨ä¸€ä¸ª React é¡¹ç›®é‡Œï¼ŒæœåŠ¡ç«¯æ¸²æŸ“æ˜¯æ€ä¹ˆå®ç°çš„ã€‚æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ Express æ­å»ºåç«¯æœåŠ¡ã€‚")]),s._v(" "),e("p",[s._v("é¡¹ç›®ä¸­æœ‰ä¸€ä¸ªå«åš VDom çš„ React ç»„ä»¶ï¼Œå®ƒçš„å†…å®¹å¦‚ä¸‹ã€‚")]),s._v(" "),e("p",[s._v("VDom.js:")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("import React from 'react'\n\nconst VDom = () => {\n  return <div>æˆ‘æ˜¯ä¸€ä¸ªè¢«æ¸²æŸ“ä¸ºçœŸå®DOMçš„è™šæ‹ŸDOM</div>\n}\n\nexport default VDom\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("p",[s._v("åœ¨æœåŠ¡ç«¯çš„å…¥å£æ–‡ä»¶ä¸­ï¼Œæˆ‘å¼•å…¥è¿™ä¸ªç»„ä»¶ï¼Œå¯¹å®ƒè¿›è¡Œæ¸²æŸ“ï¼š")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("import express from 'express'\nimport React from 'react'\nimport { renderToString } from 'react-dom/server'\nimport VDom from './VDom'\n\n// åˆ›å»ºä¸€ä¸ªexpressåº”ç”¨\nconst app = express()\n// renderToString æ˜¯æŠŠè™šæ‹ŸDOMè½¬åŒ–ä¸ºçœŸå®DOMçš„å…³é”®æ–¹æ³•\nconst RDom = renderToString(<VDom />)\n// ç¼–å†™HTMLæ¨¡æ¿ï¼Œæ’å…¥è½¬åŒ–åçš„çœŸå®DOMå†…å®¹\nconst Page = `\n            <html>\n              <head>\n                <title>test</title>\n              </head>\n              <body>\n                <span>æœåŠ¡ç«¯æ¸²æŸ“å‡ºäº†çœŸå®DOM:  </span>\n                ${RDom}\n              </body>\n            </html>\n            `\n\n// é…ç½®HTMLå†…å®¹å¯¹åº”çš„è·¯ç”±\napp.get('/index', function(req, res) {\n  res.send(Page)\n})\n\n// é…ç½®ç«¯å£å·\nconst server = app.listen(8000)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br")])]),e("p",[s._v("æ ¹æ®æˆ‘ä»¬çš„è·¯ç”±é…ç½®ï¼Œå½“æˆ‘è®¿é—® "),e("a",{attrs:{href:"http://localhost:8000/index",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://localhost:8000/index"),e("OutboundLink")],1),s._v(" æ—¶ï¼Œå°±å¯ä»¥å‘ˆç°å‡ºæœåŠ¡ç«¯æ¸²æŸ“çš„ç»“æœäº†ï¼š")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/9/26/16615e831fa4c113?w=1502&h=408&f=png&s=129026",alt:""}})]),s._v(" "),e("p",[s._v("æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒVDom ç»„ä»¶å·²ç»è¢« renderToString è½¬åŒ–ä¸ºäº†ä¸€ä¸ªå†…å®¹ä¸º"),e("code",[s._v('<div data-reactroot="">æˆ‘æ˜¯ä¸€ä¸ªè¢«æ¸²æŸ“ä¸ºçœŸå®DOMçš„è™šæ‹ŸDOM</div>')]),s._v("çš„å­—ç¬¦ä¸²ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²è¢«æ’å…¥ HTML ä»£ç ï¼Œæˆä¸ºäº†çœŸå® DOM æ ‘çš„ä¸€éƒ¨åˆ†ã€‚")]),s._v(" "),e("p",[s._v("é‚£ä¹ˆ Vue æ˜¯å¦‚ä½•å®ç°æœåŠ¡ç«¯æ¸²æŸ“çš„å‘¢ï¼Ÿ")]),s._v(" "),e("p",[s._v("å…¶å®æ˜¯ä¸€ä¸ªå¥—è·¯ï¼Œæˆ‘è¿™é‡ŒåŸºäº "),e("a",{attrs:{href:"https://ssr.vuejs.org/zh/#%E4%BB%80%E4%B9%88%E6%98%AF%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E6%B8%B2%E6%9F%93-ssr-%EF%BC%9F",target:"_blank",rel:"noopener noreferrer"}},[s._v("Vue SSR æŒ‡å—"),e("OutboundLink")],1),s._v(" ä¸­å®˜æ–¹ç»™å‡ºçš„ä¾‹å­ä¸ºå¤§å®¶è®²è§£ Vue ä¸­çš„å®ç°æ€è·¯ï¼ˆæ€è·¯è§æ³¨é‡Šï¼‰ã€‚")]),s._v(" "),e("p",[s._v("è¯¥ç¤ºä¾‹ç›´æ¥å°† Vue å®ä¾‹æ•´åˆè¿›äº†æœåŠ¡ç«¯çš„å…¥å£æ–‡ä»¶ä¸­ï¼š")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("const Vue = require('vue')\n// åˆ›å»ºä¸€ä¸ªexpressåº”ç”¨\nconst server = require('express')()\n// æå–å‡ºrendererå®ä¾‹\nconst renderer = require('vue-server-renderer').createRenderer()\n\nserver.get('*', (req, res) => {\n  // ç¼–å†™Vueå®ä¾‹ï¼ˆè™šæ‹ŸDOMèŠ‚ç‚¹ï¼‰\n  const app = new Vue({\n    data: {\n      url: req.url\n    },\n    // ç¼–å†™æ¨¡æ¿HTMLçš„å†…å®¹\n    template: `<div>è®¿é—®çš„ URL æ˜¯ï¼š {{ url }}</div>`\n  })\n\n  // renderToString æ˜¯æŠŠVueå®ä¾‹è½¬åŒ–ä¸ºçœŸå®DOMçš„å…³é”®æ–¹æ³•\n  renderer.renderToString(app, (err, html) => {\n    if (err) {\n      res.status(500).end('Internal Server Error')\n      return\n    }\n    // æŠŠæ¸²æŸ“å‡ºæ¥çš„çœŸå®DOMå­—ç¬¦ä¸²æ’å…¥HTMLæ¨¡æ¿ä¸­\n    res.end(`\n      <!DOCTYPE html>\n      <html lang=\"en\">\n        <head><title>Hello</title></head>\n        <body>${html}</body>\n      </html>\n    `)\n  })\n})\n\nserver.listen(8080)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br"),e("span",{staticClass:"line-number"},[s._v("33")]),e("br"),e("span",{staticClass:"line-number"},[s._v("34")]),e("br")])]),e("p",[s._v("å¤§å®¶å¯¹æ¯”ä¸€ä¸‹ React é¡¹ç›®ä¸­çš„æ³¨é‡Šå†…å®¹ï¼Œæ˜¯ä¸æ˜¯å‘ç°è¿™ä¸¤æ®µä»£ç ä»æœ¬è´¨ä¸Šæ¥è¯´åŒºåˆ«ä¸å¤§å‘¢ï¼Ÿ")]),s._v(" "),e("p",[s._v("ä»¥ä¸Šä¸¤ä¸ªå°ğŸŒ°ï¼Œä¸ºå¤§å®¶æ¼”ç¤ºäº†åŸºæœ¬çš„æœåŠ¡ç«¯æ¸²æŸ“å®ç°æµç¨‹ã€‚")]),s._v(" "),e("p",[s._v("å®é™…é¡¹ç›®æ¯”è¿™äº›å¤æ‚å¾ˆå¤šï¼Œä½†ä¸‡å˜ä¸ç¦»å…¶å®—ã€‚å¼ºè°ƒçš„åªæœ‰ä¸¤ç‚¹ï¼šä¸€æ˜¯è¿™ä¸ª renderToString() æ–¹æ³•ï¼›äºŒæ˜¯æŠŠè½¬åŒ–ç»“æœâ€œå¡â€è¿›æ¨¡æ¿é‡Œçš„è¿™ä¸€æ­¥ã€‚è¿™ä¸¤ä¸ªæ“ä½œæ˜¯æœåŠ¡ç«¯æ¸²æŸ“çš„çµé­‚æ“ä½œã€‚åœ¨è™šæ‹Ÿ DOMâ€œæ¨ªè¡Œâ€çš„å½“ä¸‹ï¼ŒæœåŠ¡ç«¯æ¸²æŸ“ä¸å†æ˜¯æ—©å¹´ JSP é‡Œç®€å•ç²—æš´çš„å­—ç¬¦ä¸²æ‹¼æ¥è¿‡ç¨‹ï¼Œå®ƒè¿˜è¦æ±‚è¿™ä¸€ç«¯è¦å…·å¤‡å°†è™šæ‹Ÿ DOM è½¬åŒ–ä¸ºçœŸå® DOM çš„èƒ½åŠ›ã€‚ä¸å…¶è¯´æ˜¯â€œæŠŠ JS åœ¨æœåŠ¡å™¨ä¸Šå…ˆè·‘ä¸€éâ€ï¼Œä¸å¦‚è¯´æ˜¯â€œæŠŠ Vueã€React ç­‰æ¡†æ¶ä»£ç å…ˆåœ¨ Node ä¸Šè·‘ä¸€éâ€ã€‚")]),s._v(" "),e("h2",{attrs:{id:"æœåŠ¡ç«¯æ¸²æŸ“çš„åº”ç”¨åœºæ™¯"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡ç«¯æ¸²æŸ“çš„åº”ç”¨åœºæ™¯"}},[s._v("#")]),s._v(" æœåŠ¡ç«¯æ¸²æŸ“çš„åº”ç”¨åœºæ™¯")]),s._v(" "),e("p",[s._v("æ‰“çœ¼ä¸€çœ‹ï¼Œè¿™ä¸ªæœåŠ¡ç«¯æ¸²æŸ“ç»™æµè§ˆå™¨çœäº†è¿™ä¹ˆå¤šäº‹å„¿ï¼Œæ€§èƒ½è‚¯å®šæ˜¯è´¨çš„é£è·ƒå•Šï¼å–œé—»ä¹è§ï¼ä½†æ˜¯å¤§å®¶æ‰“å¼€è‡ªå·±ç»å¸¸è®¿é—®çš„é‚£äº›ç½‘é¡µçœ‹ä¸€çœ‹ï¼Œä¼šå‘ç°ä»ç„¶æœ‰è®¸å¤šç½‘ç«™å‹æ ¹å„¿ä¸ç”¨æœåŠ¡ç«¯æ¸²æŸ“â€”â€”çœ‹æ¥è¿™ä¸ªä¸œè¥¿ä¹Ÿä¸æ˜¯ä¸‡èƒ½çš„ã€‚")]),s._v(" "),e("p",[s._v("æ ¹æ®æˆ‘ä»¬å‰é¢çš„æè¿°ï¼Œä¸éš¾çœ‹å‡ºï¼ŒæœåŠ¡ç«¯æ¸²æŸ“æœ¬è´¨ä¸Šæ˜¯"),e("strong",[s._v("æœ¬è¯¥æµè§ˆå™¨åšçš„äº‹æƒ…ï¼Œåˆ†æ‹…ç»™æœåŠ¡å™¨å»åš")]),s._v("ã€‚è¿™æ ·å½“èµ„æºæŠµè¾¾æµè§ˆå™¨æ—¶ï¼Œå®ƒå‘ˆç°çš„é€Ÿåº¦å°±å¿«äº†ã€‚ä¹ä¸€çœ‹å¥½åƒå¾ˆåˆç†ï¼šæµè§ˆå™¨æ€§èƒ½æ¯•ç«Ÿæœ‰é™ï¼ŒæœåŠ¡å™¨å¤šç‰›é€¼ï¼èƒ½è€…å¤šåŠ³ï¼Œå°±è¯¥è®©æœåŠ¡å™¨å¤šå¹²ç‚¹æ´»ï¼")]),s._v(" "),e("p",[s._v("ä½†ä»”ç»†æƒ³æƒ³ï¼Œåœ¨è¿™ä¸ªç½‘æ°‘éåœ°çš„æ—¶ä»£ï¼Œå‡ ä¹æœ‰å¤šå°‘ä¸ªç”¨æˆ·å°±æœ‰å¤šå°‘å°æµè§ˆå™¨ã€‚ç”¨æˆ·æ‹¥æœ‰çš„æµè§ˆå™¨æ€»é‡å¤šåˆ°æ•°ä¸æ¸…ï¼Œé‚£ä¹ˆä¸€ä¸ªå…¬å¸çš„æœåŠ¡å™¨åˆæœ‰å¤šå°‘å°å‘¢ï¼Ÿæˆ‘ä»¬æŠŠè¿™ä¹ˆå¤šå°æµè§ˆå™¨çš„æ¸²æŸ“å‹åŠ›é›†ä¸­èµ·æ¥ï¼Œåˆ†æ•£ç»™ç›¸æ¯”ä¹‹ä¸‹æ•°é‡å¹¶ä¸å¤šçš„æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨è‚¯å®šæ˜¯æ‰¿å—ä¸ä½çš„ã€‚")]),s._v(" "),e("p",[s._v("è¿™æ ·åˆ†æä¸‹æ¥ï¼ŒæœåŠ¡ç«¯æ¸²æŸ“ä¹Ÿå¹¶éä¸‡å…¨ä¹‹ç­–ã€‚åœ¨å®è·µä¸­ï¼Œæˆ‘ä¸€èˆ¬ä¼šå»ºè®®å¤§å®¶å…ˆå¿˜è®°æœåŠ¡ç«¯æ¸²æŸ“è¿™ä¸ªäº‹æƒ…â€”â€”æœåŠ¡å™¨ç¨€å°‘è€Œå®è´µï¼Œä½†é¦–å±æ¸²æŸ“ä½“éªŒå’Œ SEO çš„ä¼˜åŒ–æ–¹æ¡ˆå´å¾ˆå¤šâ€”â€”æˆ‘ä»¬æœ€å¥½å…ˆæŠŠèƒ½ç”¨çš„ä½æˆæœ¬â€œå¤§æ‹›â€éƒ½ç”¨å®Œã€‚é™¤éç½‘é¡µå¯¹æ€§èƒ½è¦æ±‚å¤ªé«˜äº†ï¼Œä»¥è‡³äºæ‰€æœ‰çš„æ‹›å¼éƒ½ç”¨å®Œäº†ï¼Œæ€§èƒ½è¡¨ç°è¿˜æ˜¯ä¸å°½äººæ„ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±å¯ä»¥è€ƒè™‘å‘è€æ¿å¤šç”³è¯·å‡ å°æœåŠ¡å™¨ï¼ŒæŠŠæœåŠ¡ç«¯æ¸²æŸ“æèµ·æ¥äº†~")])])}),[],!1,null,null,null);n.default=r.exports}}]);