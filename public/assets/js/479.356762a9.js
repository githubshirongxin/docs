(window.webpackJsonp=window.webpackJsonp||[]).push([[479],{962:function(s,t,a){"use strict";a.r(t);var n=a(59),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("https://www.bilibili.com/video/BV16E411D7L9?p=29")]),s._v(" "),a("h2",{attrs:{id:"_1-common工程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-common工程"}},[s._v("#")]),s._v(" 1. common工程")]),s._v(" "),a("p",[s._v("必须先发布到本地.m2"),a("code",[s._v("mvn install")]),s._v("或"),a("code",[s._v("mvn deploy")]),s._v("。")]),s._v(" "),a("h3",{attrs:{id:"两者的区别（重要！）："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#两者的区别（重要！）："}},[s._v("#")]),s._v(" 两者的区别（重要！）：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("mvn install")]),s._v(" :\n"),a("ul",[a("li",[s._v("打成jar并复制到.m2,")]),s._v(" "),a("li",[s._v("本机的其他工程就能在.m2找到它了。")]),s._v(" "),a("li",[s._v("个人开发这么做")])])]),s._v(" "),a("li",[a("code",[s._v("mvn deploy")]),s._v(":\n"),a("ul",[a("li",[s._v("不仅复制到.m2,还能发布到本地maven服务器。")]),s._v(" "),a("li",[s._v("别的机器也能找到它。")]),s._v(" "),a("li",[s._v("团队开发这么做。")])])])]),s._v(" "),a("h2",{attrs:{id:"_2-其他工程才能使用它。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-其他工程才能使用它。"}},[s._v("#")]),s._v(" 2. 其他工程才能使用它。")]),s._v(" "),a("p",[s._v("pom.xml")]),s._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[s._v(" "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("demo.sso"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n  \t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("common"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n  \t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("0.0.1-SNAPSHOT"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n\t\t\t\t\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h2",{attrs:{id:"mvn-deploy错误"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mvn-deploy错误"}},[s._v("#")]),s._v(" mvn deploy错误")]),s._v(" "),a("p",[s._v("Eclipse执行"),a("code",[s._v("mvn deploy")]),s._v("失败。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[ERROR] Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.7:\ndeploy (default-deploy) on project common: Deployment failed:\nrepository element was not specified in the POM inside distributionManagement \nelement or in -DaltDeploymentRepository=id::layout::url parameter -> [Help 1]\n[ERROR]\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("pom.xml追加")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<distributionManagement>\n\t\t<repository>\n\t\t\t<id>nexus-release</id>\n\t\t\t<name>Nexus Release Repository</name>\n\t\t\t<url>http://nexus.ccbjb.com.cn/repository/maven-releases/</url>\n\t\t</repository>\n\t\t<snapshotRepository>\n\t\t\t<id>nexus-snapshot</id>\n\t\t\t<name>Nexus Snapshot Repository</name>\n\t\t\t<url>http://nexus.ccbjb.com.cn/repository/maven-snapshots/</url>\n\t\t</snapshotRepository>\n\t</distributionManagement>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("p",[s._v("但是，Eclipse执行"),a("code",[s._v("mvn deploy")]),s._v("仍旧失败。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[INFO] --- maven-deploy-plugin:2.7:deploy (default-deploy) @ common ---\n[INFO] Downloading from : http://nexus.ccbjb.com.cn/repository/maven-snapshots/demo/sso/common/0.0.1-SNAPSHOT/maven-metadata.xml\n[WARNING] Could not transfer metadata demo.sso:common:0.0.1-SNAPSHOT/maven-metadata.xml from/to nexus-snapshot (http://nexus.ccbjb.com.cn/repository/maven-snapshots/):\n Access denied to http://nexus.ccbjb.com.cn/repository/maven-snapshots/demo/sso/common/0.0.1-SNAPSHOT/maven-metadata.xml. Error code 401, Unauthorized\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  1.191 s\n[INFO] Finished at: 2021-01-24T09:00:03+08:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.7:deploy (default-deploy) on project common: Failed to retrieve remote metadata demo.sso:common:0.0.1-SNAPSHOT/maven-metadata.xml: Could not transfer metadata demo.sso:common:0.0.1-SNAPSHOT/maven-metadata.xml from/to nexus-snapshot (http://nexus.ccbjb.com.cn/repository/maven-snapshots/): Access denied to http://nexus.ccbjb.com.cn/repository/maven-snapshots/demo/sso/common/0.0.1-SNAPSHOT/maven-metadata.xml. Error code 401, Unauthorized -> [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("p",[s._v("直接在命令行输入"),a("code",[s._v("mvn deploy")]),s._v("成功！")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[INFO] --- maven-deploy-plugin:2.7:deploy (default-deploy) @ common ---\nDownloading from nexus-snapshot: http://nexus.ccbjb.com.cn/repository/maven-snapshots/demo/sso/common/0.0.1-SNAPSHOT/maven-metadata.xml\nUploading to nexus-snapshot: http://nexus.ccbjb.com.cn/repository/maven-snapshots/demo/sso/common/0.0.1-SNAPSHOT/common-0.0.1-20210124.010359-1.jar\nUploaded to nexus-snapshot: http://nexus.ccbjb.com.cn/repository/maven-snapshots/demo/sso/common/0.0.1-SNAPSHOT/common-0.0.1-20210124.010359-1.jar (8.6 kB at 59 kB/s)\nUploading to nexus-snapshot: http://nexus.ccbjb.com.cn/repository/maven-snapshots/demo/sso/common/0.0.1-SNAPSHOT/common-0.0.1-20210124.010359-1.pom\nUploaded to nexus-snapshot: http://nexus.ccbjb.com.cn/repository/maven-snapshots/demo/sso/common/0.0.1-SNAPSHOT/common-0.0.1-20210124.010359-1.pom (1.1 kB at 22 kB/s)\nDownloading from nexus-snapshot: http://nexus.ccbjb.com.cn/repository/maven-snapshots/demo/sso/common/maven-metadata.xml\nUploading to nexus-snapshot: http://nexus.ccbjb.com.cn/repository/maven-snapshots/demo/sso/common/0.0.1-SNAPSHOT/maven-metadata.xml\nUploaded to nexus-snapshot: http://nexus.ccbjb.com.cn/repository/maven-snapshots/demo/sso/common/0.0.1-SNAPSHOT/maven-metadata.xml (764 B at 11 kB/s)\nUploading to nexus-snapshot: http://nexus.ccbjb.com.cn/repository/maven-snapshots/demo/sso/common/maven-metadata.xml\nUploaded to nexus-snapshot: http://nexus.ccbjb.com.cn/repository/maven-snapshots/demo/sso/common/maven-metadata.xml (274 B at 6.5 kB/s)\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  1.753 s\n[INFO] Finished at: 2021-01-24T09:03:59+08:00\n[INFO] ------------------------------------------------------------------------\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("h3",{attrs:{id:"原因："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#原因："}},[s._v("#")]),s._v(" 原因：")]),s._v(" "),a("h4",{attrs:{id:"错误方法："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#错误方法："}},[s._v("#")]),s._v(" 错误方法：")]),s._v(" "),a("p",[a("img",{attrs:{src:"/docs/images/2021-01-24-09-08-32.png",alt:""}})]),s._v(" "),a("h4",{attrs:{id:"正确方法："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#正确方法："}},[s._v("#")]),s._v(" 正确方法：")]),s._v(" "),a("p",[a("img",{attrs:{src:"/docs/images/2021-01-24-09-08-58.png",alt:""}})]),s._v(" "),a("h3",{attrs:{id:"结论："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#结论："}},[s._v("#")]),s._v(" 结论：")]),s._v(" "),a("p",[s._v("把"),a("code",[s._v("C:\\Program Files (x86)\\apache-maven-3.6.3\\conf\\settings.xml")]),s._v("拷贝到.m2下\n"),a("code",[s._v("C:\\Users\\Administrator\\.m2")]),s._v(",原来我"),a("code",[s._v("C:\\Users\\Administrator\\.m2")]),s._v("目录下并没有settings.xml\n所以，用户名和密码信息，eclipse没有取到。就产生了401认证失败问题。")])])}),[],!1,null,null,null);t.default=e.exports}}]);