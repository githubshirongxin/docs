(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{467:function(s,a,n){"use strict";n.r(a);var e=n(48),t=Object(e.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"背景"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#背景"}},[s._v("#")]),s._v(" 背景")]),s._v(" "),n("p",[s._v("harbor 3.120 nginx+NFS+redis+posgress+keepalive\nharbor node 3.108 ，3.109 harbor")]),s._v(" "),n("h2",{attrs:{id:"问题"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#问题"}},[s._v("#")]),s._v(" 问题：")]),s._v(" "),n("h3",{attrs:{id:"【现象】"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#【现象】"}},[s._v("#")]),s._v(" 【现象】")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("root@centos125:~"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker login -u admin harbor.ccbjb.com.cn")]),s._v("\nPassword:\nWARNING"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" Your password will be stored unencrypted "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" /root/.docker/config.json.\nConfigure a credential helper to remove this warning. See\nhttps://docs.docker.com/engine/reference/commandline/login/"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#credentials-store")]),s._v("\n\nLogin Succeeded\nroot@centos125:~"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\nroot@centos125:~"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\nroot@centos125:~"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker push harbor.ccbjb.com.cn/redis:v1")]),s._v("\nThe push refers to repository "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("harbor.ccbjb.com.cn/redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n1bd654b55bb4: Retrying "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" seconds\n1b80269d908f: Retrying "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" seconds\n57094a432b39: Retrying "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" seconds\nab0653e928a7: Retrying "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" seconds\n09b6608896c0: Retrying "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" seconds\nd0f104dc0a1f: Waiting\nreceived unexpected HTTP status: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("500")]),s._v(" Internal Server Error\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br")])]),n("h2",{attrs:{id:"【解决】-因为没有写harbor上的项目"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#【解决】-因为没有写harbor上的项目"}},[s._v("#")]),s._v(" 【解决】：因为没有写harbor上的项目")]),s._v(" "),n("p",[n("img",{attrs:{src:"/docs/images/2020-08-13-10-34-07.png",alt:""}})]),s._v(" "),n("p",[s._v("harbor是按照项目，项目下面放镜像。所以必须得加上项目名。")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("root@centos125:~"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker pull harbor.ccbjb.com.cn/library/maven")]),s._v("\nUsing default tag: latest\nlatest: Pulling from library/maven\nbce8f778fef0: Pull complete\n2778faef3420: Pull complete\n945a8b67ac57: Pull complete\n396112e35f08: Pull complete\n7f0cb4eada14: Pull complete\n1549e7083eda: Pull complete\nDigest: sha256:23801edad8cd013544bfd8c0ed698182c172b9dba66bc5a42054a65f5da9c6ca\nStatus: Downloaded newer image "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" harbor.ccbjb.com.cn/library/maven:latest\nharbor.ccbjb.com.cn/library/maven:latest\nroot@centos125:~"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker images")]),s._v("\nREPOSITORY                          TAG                 IMAGE ID            CREATED             SIZE\ndocker.ccbjb.com.cn/redis           latest              1319b1eaa0b7        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" days ago          104MB\nharbor.ccbjb.com.cn/library/maven   latest              e85864b4079a        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" weeks ago         522MB\ndocker.ccbjb.com.cn/alpine          latest              a24bb4013296        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" months ago        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(".57MB\nalpine                              latest              a24bb4013296        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" months ago        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(".57MB\nroot@centos125:~"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\nroot@centos125:~"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\nroot@centos125:~"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\nroot@centos125:~"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\nroot@centos125:~"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker tag alpine:latest harbor.ccbjb.com.cn/library/alpine")]),s._v("\nroot@centos125:~"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker push harbor.ccbjb.com.cn/library/alpine")]),s._v("\nThe push refers to repository "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("harbor.ccbjb.com.cn/library/alpine"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n50644c29ef5a: Pushed\nlatest: digest: sha256:a15790640a6690aa1730c38cf0a440e2aa44aaca9b0e8931a9f2b0d7cc90fd65 size: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("528")]),s._v("\nroot@centos125:~"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br")])])])}),[],!1,null,null,null);a.default=t.exports}}]);