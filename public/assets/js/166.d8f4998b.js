(window.webpackJsonp=window.webpackJsonp||[]).push([[166],{650:function(s,n,t){"use strict";t.r(n);var a=t(59),e=Object(a.a)({},(function(){var s=this,n=s.$createElement,t=s._self._c||n;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("::: warnning\n注意：使用nginx代理的方式比较好。域名比较容易记，仅此而已。\n参考“【nexus】私有仓库使用手顺（最终版）！！”\n:::")]),s._v(" "),t("h2",{attrs:{id:"_1-在192-168-3-124的nexue上定义三个npm库。"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-在192-168-3-124的nexue上定义三个npm库。"}},[s._v("#")]),s._v(" 1. 在192.168.3.124的nexue上定义三个npm库。")]),s._v(" "),t("p",[s._v("参考官方文档：https://help.sonatype.com/repomanager2/node-packaged-modules-and-npm-registries\n并增加REALM，增加npm Bearer Token Realm, Docker Bearer Token Realm,Conan Bearer Token Realm")]),s._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[s._v("WARNING")]),s._v(" "),t("p",[s._v('必须增加npm Bearer Token Realm,否则会提示\nnpm ERR! code E401\nnpm ERR! Unable to authenticate, need: BASIC realm="Sonatype Nexus Repository Manager"')])]),s._v(" "),t("h2",{attrs:{id:"_2-在192-168-3-122上安装nodejs测试用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-在192-168-3-122上安装nodejs测试用"}},[s._v("#")]),s._v(" 2. 在192.168.3.122上安装nodejs测试用")]),s._v(" "),t("p",[s._v("https://www.cnblogs.com/Tanwheey/p/11984547.html")]),s._v(" "),t("p",[s._v("下载最新的linux版本二进制\nhttps://nodejs.org/en/download/")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" node-v12.18.3-linux-x64.tar.xz root@192.168.3.122:\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p /usr/local/lib/nodejs\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -xJvf node-v12.18.3-linux-x64.tar.xz -C /usr/local/lib/nodejs \n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/profile\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 追加一行")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/lib/nodejs/node-v12.18.3-linux-x64/bin:"),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" /etc/profile\nnode -v\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" version\nnpx -v\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h2",{attrs:{id:"_3-在192-168-3-122上配置npm"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-在192-168-3-122上配置npm"}},[s._v("#")]),s._v(" 3 . 在192.168.3.122上配置npm")]),s._v(" "),t("h4",{attrs:{id:"_3-1-首先设置一下拉取用的库为代理库或group库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-首先设置一下拉取用的库为代理库或group库"}},[s._v("#")]),s._v(" 3.1 首先设置一下拉取用的库为代理库或group库")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("进入安装时用户的主目录：\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /root/\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -al  //能够看到.npmrc隐藏文件\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /root/.npmrc\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 增加一行 这不是必须的，默认npm install的时候会从这里下载，publish的时候得在命令行指定npm-internal库。")]),s._v("\nregistry "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" http://192.168.3.124:8081/repository/npm-group/\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[s._v("WARNING")]),s._v(" "),t("p",[s._v(".npmrc 的修改不是必须的，仅仅是为了方便。\n因为完全可以在命令行指定registry。")])]),s._v(" "),t("div",{staticClass:"custom-block danger"},[t("p",{staticClass:"custom-block-title"},[s._v("WARNING")]),s._v(" "),t("p",[s._v("如果不是npm-group或npm-proxy，npm install xxx会报错\n所以拉取之前请确认库包括proxy库")])]),s._v(" "),t("h4",{attrs:{id:"_3-2-认证处理。因为拉取和publish都需要登陆。"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-认证处理。因为拉取和publish都需要登陆。"}},[s._v("#")]),s._v(" 3.2 认证处理。因为拉取和publish都需要登陆。")]),s._v(" "),t("ul",[t("li",[s._v(".npmrc配置登陆信息：\n或者")]),s._v(" "),t("li",[s._v("手动npm login nexus.ccbjb.com.cn\n这里选择把登陆信息写到配置文件，方便一些。")])]),s._v(" "),t("h5",{attrs:{id:"首先，加密用户名密码对"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#首先，加密用户名密码对"}},[s._v("#")]),s._v(" 首先，加密用户名密码对")]),s._v(" "),t("p",[s._v("Linux：\n"),t("code",[s._v("echo -n 'admin:admin123' | openssl base64")])]),s._v(" "),t("p",[s._v("得到结果")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("-----BEGIN CERTIFICATE-----\nYWRtaW46YWRtaW4xMjM=\n-----END CERTIFICATE----- \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h6",{attrs:{id:"added-to-the-npmrc-file"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#added-to-the-npmrc-file"}},[s._v("#")]),s._v(" added to the .npmrc file:")]),s._v(" "),t("p",[s._v("vim /root/.npmrc")]),s._v(" "),t("div",{staticClass:"custom-block danger"},[t("p",{staticClass:"custom-block-title"},[s._v("WARNING")]),s._v(" "),t("p",[s._v("registry 后的url必须以/结束，否则会截掉最后的npm-group")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("registry")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http://192.168.3.124:8081/repository/npm-group/\ninit.author.name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("shirx\ninit.author.email"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("shirx@ccbjb.com.cn\ninit.author.url"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("https://shirongxin.gitlab.io/docs\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("email")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("shirx@ccbjb.com.cn\nalways-auth"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("_auth")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"YWRtaW46YWRtaW4xMjM="')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h2",{attrs:{id:"_4-测试拉取"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-测试拉取"}},[s._v("#")]),s._v(" 4 测试拉取")]),s._v(" "),t("h4",{attrs:{id:"测试拉取1-：-在192-168-3-122上-npm-install"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#测试拉取1-：-在192-168-3-122上-npm-install"}},[s._v("#")]),s._v(" 测试拉取1 ： 在192.168.3.122上 npm install")]),s._v(" "),t("p",[s._v("// 这样的设置会覆盖.npmrc设置，当然，配置了.npmrc之后这就不用写了。\n"),t("code",[s._v("npm config set registry http://192.168.3.124:8081/repository/npm-group/")])]),s._v(" "),t("p",[s._v("//不确定的话可以执行get看看\n"),t("code",[s._v("npm config get registry")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos122 npm"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# npm install vue")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice created a lockfile as package-lock.json. You should commit this file. + vue@2.6.11\nadded "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" package from "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" contributor "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(".962s\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("成功安装到122.并且nexus上的repository上也有了（安装之前是空的）。\n"),t("img",{attrs:{src:"/docs/images/2020-08-06-13-19-13.png",alt:""}})]),s._v(" "),t("h4",{attrs:{id:"【测试拉取-2】：加上-loglevel-info"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#【测试拉取-2】：加上-loglevel-info"}},[s._v("#")]),s._v(" 【测试拉取 2】：加上 --loglevel info")]),s._v(" "),t("p",[s._v("明显能够看到是从npm-group库中下载的。\n同时，私服也缓存了该包。\n以后别人再下载就快了。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# npm --loglevel info install grunt")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" http fetch GET "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),s._v(" http://192.168.3.124:8081/repository/npm-group/cache-base/\n-/cache-base-1.0.1.tgz 326ms                                                     \n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" info lifecycle nopt@3.0.6~postinstall: nopt@3.0.6\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" info ok\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos122 npm"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("hr"),s._v(" "),t("h2",{attrs:{id:"_5-publishing-npm-packages"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-publishing-npm-packages"}},[s._v("#")]),s._v(" 5.  Publishing npm Packages")]),s._v(" "),t("h3",{attrs:{id:"_5-1-两种发布方法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-两种发布方法"}},[s._v("#")]),s._v(" 5.1 两种发布方法")]),s._v(" "),t("p",[s._v("方案1：命令行指定发布位置为“npm内部库”！\n"),t("code",[s._v("npm publish --registry http://192.168.3.124:8081/repository/npm-internal/")])]),s._v(" "),t("p",[s._v("//不确定的话可以执行get看看\n"),t("code",[s._v("npm config get registry")])]),s._v(" "),t("p",[s._v('方案2：修改package.json\n"publishConfig" : {\n"registry" : "http://192.168.3.124:8081/repository/npm-internal/"\n},\n这里选择第二种，比较方便。')]),s._v(" "),t("h4",{attrs:{id:"我觉得最佳实践就是"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#我觉得最佳实践就是"}},[s._v("#")]),s._v(" 我觉得最佳实践就是")]),s._v(" "),t("ul",[t("li",[s._v(".npmrc 配置的库时下载用的库（使用频率高）")]),s._v(" "),t("li",[s._v("package.json里配置的库时publish用的库。（使用频率低）")])]),s._v(" "),t("h5",{attrs:{id:"创建一个测试项目"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建一个测试项目"}},[s._v("#")]),s._v(" 创建一个测试项目")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("mkdir z-tools\ncd z-tools\nnpm init\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("// vi index.js")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("!function(){\n  console.log(`这是引入的包入口`)\n}()\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("// 修改package.json 增加一行，注意发布到"),t("strong",[s._v("npm内部库！")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('"publishConfig": {\n    "registry": "http://192.168.3.124:8081/repository/npm-internal/"\n  },\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h5",{attrs:{id:"publish"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#publish"}},[s._v("#")]),s._v(" publish")]),s._v(" "),t("p",[s._v("// 后面registry指定与否并不重要\n"),t("code",[s._v("npm publish --registry http://192.168.3.124:8081/repository/npm-internal/")])]),s._v(" "),t("p",[s._v("npm --registry的使用方法。\n参考：https://docs.npmjs.com/misc/registry#i-dont-want-my-package-published-in-the-official-registry-its-private")]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),t("p",[t("code",[s._v("npm publish")]),s._v(" 就可以，因为在package.json中已经指定了registery")])]),s._v(" "),t("p",[s._v("//报错")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('npm ERR! code E401\nnpm ERR! Unable to authenticate,\n need: BASIC realm="Sonatype Nexus Repository Manager"\n\n18 http fetch PUT 401 \nhttp://192.168.3.124:8081/repository/npm-internal/srxztool\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("参考：https://stackoverflow.com/questions/57279087/authentication-error-on-publishing-to-private-npm-repository-on-nexus")]),s._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[s._v("WARNING")]),s._v(" "),t("p",[s._v('检查：必须增加npm Bearer Token Realm,否则会提示\nnpm ERR! code E401\nnpm ERR! Unable to authenticate, need: BASIC realm="Sonatype Nexus Repository Manager"')])]),s._v(" "),t("h3",{attrs:{id:"q-去掉项目package-json中的register信息，去掉-npmrc的register和auth信息。仅仅靠命令npm-adduser，npm-publish可以吗？"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#q-去掉项目package-json中的register信息，去掉-npmrc的register和auth信息。仅仅靠命令npm-adduser，npm-publish可以吗？"}},[s._v("#")]),s._v(" Q: 去掉项目package.json中的register信息，去掉.npmrc的register和auth信息。仅仅靠命令npm adduser，npm publish可以吗？")]),s._v(" "),t("p",[s._v("A: 可以。\n清空.npmrc ,去掉package.json中register的信息。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos122 z-tool"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# npm config get registry")]),s._v("\nhttp://192.168.3.124:8081/repository/npm-internal/\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos122 z-tool"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# npm login")]),s._v("\nUsername: admin\nPassword:\nEmail: "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("this IS public"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" shirx@ccbjb.com.cn\nLogged "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" as admin on http://192.168.3.124:8081/repository/npm-internal/.\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos122 z-tool"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# npm publish")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice �  srxztool@1.0.0\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Tarball Contents "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice 393B package.json.bak\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice 59B  index.js\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice 298B package.json\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Tarball Details "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice name:          srxztool\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice version:       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),s._v(".0\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice package size:  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("480")]),s._v(" B\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice unpacked size: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("750")]),s._v(" B\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice shasum:        bc5dc7fb2596a6dae2320d9b84f005da898e5b9d\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice integrity:     sha512-OHlaBEIsh5o7U"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("gLLQ0iR9xSV4Q"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice total files:   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice\n+ srxztool@1.0.0\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos122 z-tool"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br")])]),t("p",[s._v("可见，完全不必配置.npmrc，以及package.json.")]),s._v(" "),t("h3",{attrs:{id:"q-npm-login之后才可以npm-install吗？"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#q-npm-login之后才可以npm-install吗？"}},[s._v("#")]),s._v(" Q: npm login之后才可以npm install吗？")]),s._v(" "),t("p",[s._v("A: 不行")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" vuepress\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" code E401\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" Unable to authenticate, need: BASIC "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("realm")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Sonatype Nexus Repository Manager"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("解决办法：要么npm login nexus.ccbjb.com.cn, 要么在.npmrc中加入认证信息。")]),s._v(" "),t("h3",{attrs:{id:"q-npm-adduser-或-npm-login-之后才可以npm-publish吗"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#q-npm-adduser-或-npm-login-之后才可以npm-publish吗"}},[s._v("#")]),s._v(" Q: npm adduser 或 npm login 之后才可以npm publish吗")]),s._v(" "),t("p",[s._v("A:是的。除非.npmrc中配置了认证信息。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos122 z-tool"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# npm login")]),s._v("\nUsername: admin\nPassword:\nEmail: "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("this IS public"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" shirx@ccbjb.com.cn\nLogged "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" as admin on http://192.168.3.124:8081/repository/npm-internal/.\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos122 z-tool"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# npm whoami")]),s._v("\nadmin\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos122 z-tool"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos122 z-tool"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# npm logout")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos122 z-tool"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# npm whoami")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" code ENEEDAUTH\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" need auth This "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v(" requires you to be logged in.\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" need auth You need to authorize this machine using "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" adduser"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" A complete log of this run can be found in:\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("     /root/.npm/_logs/2020-08-07T03_32_42_269Z-debug.log\n\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos122 z-tool"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# npm config get registry")]),s._v("\nhttp://192.168.3.124:8081/repository/npm-internal/\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos122 z-tool"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# npm publish")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice �  srxztool@1.0.0\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Tarball Contents "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice 393B package.json.bak\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice 59B  index.js\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice 298B package.json\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Tarball Details "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice name:          srxztool\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice version:       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),s._v(".0\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice package size:  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("480")]),s._v(" B\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice unpacked size: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("750")]),s._v(" B\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice shasum:        bc5dc7fb2596a6dae2320d9b84f005da898e5b9d\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice integrity:     sha512-OHlaBEIsh5o7U"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("gLLQ0iR9xSV4Q"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice total files:   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" code E401\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" Unable to authenticate, need: BASIC "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("realm")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Sonatype Nexus Repository Manager"')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" A complete log of this run can be found in:\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("     /root/.npm/_logs/2020-08-07T03_34_23_369Z-debug.log\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos122 z-tool"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br")])]),t("p",[s._v("不"),t("code",[s._v("npm login")]),s._v("或"),t("code",[s._v("npm adduser")]),s._v("，绝对不让"),t("code",[s._v("npm publish")])]),s._v(" "),t("h3",{attrs:{id:"q：不使用npm-login，把认证信息写到-npmrc，可以npm-publish吗？"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#q：不使用npm-login，把认证信息写到-npmrc，可以npm-publish吗？"}},[s._v("#")]),s._v(" Q：不使用npm login，把认证信息写到.npmrc，可以npm publish吗？")]),s._v(" "),t("p",[s._v("A:.npmrc有认证信息就无需login，可以publish")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos122 npm"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat /root/.npmrc")]),s._v("\nregistry "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" http://192.168.3.124:8081/repository/npm-internal/\nalways-auth"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("_auth")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("YWRtaW46YWRtaW4xMjM"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos122 npm"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos122 npm"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# npm whoami")]),s._v("\nadmin\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos122 npm"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# npm logout")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos122 npm"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# npm config get registry")]),s._v("\nhttp://192.168.3.124:8081/repository/npm-internal/\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos122 npm"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos122 z-tool"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# npm publish")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice �  srxztool@1.0.0\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Tarball Contents "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice 393B package.json.bak\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice 59B  index.js\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice 298B package.json\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Tarball Details "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice name:          srxztool\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice version:       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),s._v(".0\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice package size:  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("480")]),s._v(" B\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice unpacked size: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("750")]),s._v(" B\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice shasum:        bc5dc7fb2596a6dae2320d9b84f005da898e5b9d\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice integrity:     sha512-OHlaBEIsh5o7U"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("gLLQ0iR9xSV4Q"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice total files:   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice\n+ srxztool@1.0.0\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos122 z-tool"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br")])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),t("p",[s._v("可以的，不用npm login，需要在~/.npmrc 中设置auth。")])]),s._v(" "),t("h3",{attrs:{id:"q：npm-login的邮件地址可以随便写吗？"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#q：npm-login的邮件地址可以随便写吗？"}},[s._v("#")]),s._v(" Q：npm login的邮件地址可以随便写吗？")]),s._v(" "),t("p",[s._v("可以。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("[root@centos122 z-tool]# npm login\nUsername: mengxt\nPassword:\nEmail: (this IS public) sldfjsf@ccbjb.com.cn\nLogged in as mengxt on http://192.168.3.124:8081/repository/npm-internal/.\n[root@centos122 z-tool]#\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("随便写也可以登陆。")]),s._v(" "),t("h3",{attrs:{id:"q：npm-adduser可以增加一个不存在的用户吗？"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#q：npm-adduser可以增加一个不存在的用户吗？"}},[s._v("#")]),s._v(" Q：npm adduser可以增加一个不存在的用户吗？")]),s._v(" "),t("p",[s._v("不可以")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos122 z-tool"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# npm adduser")]),s._v("\nUsername: maoantao\nPassword:\nEmail: "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("this IS public"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" maoat@ccbjb.com.cn\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" code E401\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("401")]),s._v(" Unauthorized - PUT http://192.168.3.124:8081/repository/npm-internal/-/user/org.couchdb.user:maoantao - Bad username or password\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" A complete log of this run can be found in:\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("     /root/.npm/_logs/2020-08-07T03_22_24_114Z-debug.log\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos122 z-tool"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("不行，再试试")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos122 z-tool"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# npm adduser --registry="http://192.168.3.124:8081/repository/npm-internal/"')]),s._v("\nUsername: maoat\nPassword:\nEmail: "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("this IS public"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" maoat@ccbjb.com.cn\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" code E401\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("401")]),s._v(" Unauthorized - PUT http://192.168.3.124:8081/repository/npm-internal/-/user/org.couchdb.user:maoat - Bad username or password\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" A complete log of this run can be found in:\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("     /root/.npm/_logs/2020-08-07T03_24_03_215Z-debug.log\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos122 z-tool"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("也不行。")]),s._v(" "),t("p",[s._v("难道不能增加用户吗？")]),s._v(" "),t("p",[s._v("试试，nexus上已经存在的用户来adduser")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos122 z-tool"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# npm adduser")]),s._v("\nUsername: mengxt\nPassword:\nEmail: "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("this IS public"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" mengxt@ccbjb.com.cn\nLogged "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" as mengxt on http://192.168.3.124:8081/repository/npm-internal/.\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos122 z-tool"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),t("p",[s._v("npm adduser只能增加nexus已有的用户。那还叫什么adduser呢？和npm login没有区别了。")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos122 z-tool"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# npm login")]),s._v("\nUsername: mengxt\nPassword:\nEmail: "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("this IS public"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" mengxt@ccbjb.com.cn\nLogged "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" as mengxt on http://192.168.3.124:8081/repository/npm-internal/.\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos122 z-tool"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("hr"),s._v(" "),t("h3",{attrs:{id:"_4-4-win10上试试发布。"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-win10上试试发布。"}},[s._v("#")]),s._v(" 4.4 win10上试试发布。")]),s._v(" "),t("h5",{attrs:{id:"windows："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#windows："}},[s._v("#")]),s._v(" Windows：")]),s._v(" "),t("p",[s._v(".npmrc目录：C:\\Users\\用户名.npmrc\nvi C:\\Users\\用户名.npmrc")]),s._v(" "),t("p",[s._v("windows:\ncertutil是windows自带的命令。\nin.txt:"),t("code",[s._v("admin:admin123")]),s._v(" "),t("code",[s._v("certutil /encode in.txt out.txt")])]),s._v(" "),t("p",[s._v("同上，略。")])])}),[],!1,null,null,null);n.default=e.exports}}]);