(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{525:function(s,e,a){"use strict";a.r(e);var t=a(59),l=Object(t.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[a("code",[s._v("docker run -d --name mysql_0617 -p 3306:3306 -e MYSQL_ROOT_PASSWORD=123.com mysql:5.7")])]),s._v(" "),a("p",[s._v("连接数据库，创建test db。")]),s._v(" "),a("h2",{attrs:{id:"将容器中的-mysql-配置文件复制到宿主机中指定路径下，路径你可以根据需要，自行修改"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#将容器中的-mysql-配置文件复制到宿主机中指定路径下，路径你可以根据需要，自行修改"}},[s._v("#")]),s._v(" 将容器中的 mysql 配置文件复制到宿主机中指定路径下，路径你可以根据需要，自行修改")]),s._v(" "),a("p",[a("code",[s._v("docker cp mysql_0617:/etc/mysql/mysql.conf.d D:\\\\works\\\\mysql_persistent\\\\mysql_0617\\\\config")])]),s._v(" "),a("h2",{attrs:{id:"将容器中的-mysql-存储目录复制到宿主机中"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#将容器中的-mysql-存储目录复制到宿主机中"}},[s._v("#")]),s._v(" 将容器中的 mysql 存储目录复制到宿主机中")]),s._v(" "),a("p",[a("code",[s._v("docker cp mysql_0617:/var/lib/mysql/ D:\\\\works\\\\mysql_persistent\\\\mysql_0617\\\\data\\\\mysql")])]),s._v(" "),a("p",[a("code",[s._v("docker stop mysql_0617")])]),s._v(" "),a("p",[s._v("docker rm  mysql_0617")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("docker run -it --name mysql_0617 \\\n-p 3306:3306 \\\n-v D:\\\\works\\\\mysql_persistent\\\\mysql_0617\\\\config:/etc/mysql/mysql.conf.d \\\n-v D:\\\\works\\\\mysql_persistent\\\\mysql_0617\\\\data\\\\mysql:/var/lib/mysql \\\n-e MYSQL_ROOT_PASSWORD=123.com mysql:5.7\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("去掉换行")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("docker run -it --name mysql_0617 -p 3306:3306 -v D:\\\\works\\\\mysql_persistent\\\\mysql_0617\\\\config:/etc/mysql/mysql.conf.d -v D:\\\\works\\\\mysql_persistent\\\\mysql_0617\\\\data\\\\mysql:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=123.com mysql:5.7\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("再复制两个mysql库，映射端口不同")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("docker run -it --name mysql_0617_2 -p 3307:3306 -v D:\\\\works\\\\mysql_persistent\\\\mysql_0617_2\\\\config:/etc/mysql/mysql.conf.d -v D:\\\\works\\\\mysql_persistent\\\\mysql_0617_2\\\\data\\\\mysql:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=123.com mysql:5.7\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("docker run -it --name mysql_0617_3 -p 3308:3306 -v D:\\\\works\\\\mysql_persistent\\\\mysql_0617_3\\\\config:/etc/mysql/mysql.conf.d -v D:\\\\works\\\\mysql_persistent\\\\mysql_0617_3\\\\data\\\\mysql:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=123.com mysql:5.7\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("hr"),s._v(" "),a("h2",{attrs:{id:"trouble-shooting"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#trouble-shooting"}},[s._v("#")]),s._v(" Trouble Shooting")]),s._v(" "),a("h3",{attrs:{id:"【问题】远程连接docker的mysql失败"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#【问题】远程连接docker的mysql失败"}},[s._v("#")]),s._v(" 【问题】远程连接docker的mysql失败")]),s._v(" "),a("h3",{attrs:{id:"【现象】"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#【现象】"}},[s._v("#")]),s._v(" 【现象】")]),s._v(" "),a("p",[s._v("SQLyog连接mysql\n-输入用户名密码")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("发现报错：\n2059 - Authentication plugin ‘caching_sha2_password’ cannot be loaded: dlopen(…/Frameworks/caching_sha2_password.so, 2): image not found\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"【解决方案】："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#【解决方案】："}},[s._v("#")]),s._v(" 【解决方案】：")]),s._v(" "),a("p",[s._v("1.进入mysql容器（当时启动mysql指定时的容器名字）")]),s._v(" "),a("p",[a("code",[s._v("docker exec -it mysql_0617 /bin/bash")])]),s._v(" "),a("p",[s._v("2.操作mysql")]),s._v(" "),a("p",[a("code",[s._v("mysql -u root -p")])]),s._v(" "),a("p",[s._v("输入你启动mysql容器时候的密码：123.com")]),s._v(" "),a("p",[s._v("3.修改密码")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("ALTER USER 'root'@'%' IDENTIFIED WITH mysql_native_password BY '123.com';  #注意这里12345必须和你的mysql的root用户密码一致！！\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("4.重新用SQLyog连接mysql")]),s._v(" "),a("p",[s._v("大功告成！！！")])])}),[],!1,null,null,null);e.default=l.exports}}]);