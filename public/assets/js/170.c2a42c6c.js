(window.webpackJsonp=window.webpackJsonp||[]).push([[170],{653:function(s,t,a){"use strict";a.r(t);var e=a(59),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"仅安装mysql客户端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#仅安装mysql客户端"}},[s._v("#")]),s._v(" 仅安装MySQL客户端")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加rpm源")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@k8s-master ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# rpm -ivh https://repo.mysql.com//mysql57-community-release-el7-11.noarch.rpm")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@test1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 通过yum搜索")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@test1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yum search mysql-community")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@test1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装x64位的 mysql客户端")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@test1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yum install mysql-community-client.x86_64 -y")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h1",{attrs:{id:"mysql无法远程访问"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysql无法远程访问"}},[s._v("#")]),s._v(" mysql无法远程访问")]),s._v(" "),a("p",[s._v("需要手动增加可以远程访问数据库的用户。")]),s._v(" "),a("h3",{attrs:{id:"方法一-不推荐-、本地登入mysql，更改-mysql-数据库里的-user-表里的-host-项，将-localhost-改为"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方法一-不推荐-、本地登入mysql，更改-mysql-数据库里的-user-表里的-host-项，将-localhost-改为"}},[s._v("#")]),s._v(' 方法一(不推荐)、本地登入mysql，更改 "mysql" 数据库里的 "user" 表里的 "host" 项，将"localhost"改为"%"')]),s._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[s._v("不推荐")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("#mysql -u root -proot\nmysql>use mysql;\nmysql>update user set host = '%' where user = 'root';\nmysql>select host, user from user;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h3",{attrs:{id:"方法二、直接授权-推荐"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方法二、直接授权-推荐"}},[s._v("#")]),s._v(" 方法二、直接授权(推荐)")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("推荐")])]),s._v(" "),a("p",[s._v("从任何主机上使用root用户，密码：youpassword（你的root密码）连接到mysql服务器：（首先登陆Linux服务器，填写下面代码即可）")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@localhost software]# mysql -u root -proot \nmysql>GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' IDENTIFIED BY 'youpassword' WITH GRANT OPTION;\n\nmysql>FLUSH PRIVILEGES;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("操作完后切记执行以下命令刷新权限")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("FLUSH PRIVILEGES;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"方法三：终极方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方法三：终极方法"}},[s._v("#")]),s._v(" 方法三：终极方法")]),s._v(" "),a("p",[s._v("注释bind-address = 127.0.0.1\n找到mysql.cnf")]),s._v(" "),a("p",[s._v("把bind-address = 127.0.0.1 前面加上 #")]),s._v(" "),a("p",[s._v("即  #bind-address = 127.0.0.1")]),s._v(" "),a("h1",{attrs:{id:"远程怎么也连接不上mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#远程怎么也连接不上mysql"}},[s._v("#")]),s._v(" 远程怎么也连接不上mysql")]),s._v(" "),a("p",[s._v("centos7 Failed to start iptables.service: Unit not found 防火墙")]),s._v(" "),a("p",[s._v("处理：\n"),a("code",[s._v("firewall-cmd --zone=public --add-port=3306/tcp --permanent")])]),s._v(" "),a("p",[s._v("参考：下面文章")]),s._v(" "),a("p",[s._v("在CentOS 7或RHEL 7或Fedora中防火墙由firewalld来管理")]),s._v(" "),a("p",[s._v("添加（--permanent永久生效，没有此参数重启后失效）\nfirewall-cmd --zone=public --add-port=80/tcp --permanent")]),s._v(" "),a("p",[s._v("firewall-cmd --zone=public --add-port=1000-2000/tcp --permanent\n重新载入")]),s._v(" "),a("p",[s._v("1\nfirewall-cmd --reload\n查看")]),s._v(" "),a("p",[s._v("1\nfirewall-cmd --zone=public --query-port=80/tcp\n删除")]),s._v(" "),a("p",[s._v("1\nfirewall-cmd --zone=public --remove-port=80/tcp --permanent\n开启防火墙")]),s._v(" "),a("p",[s._v("1\nsystemctl start firewalld.service\n关闭防火墙")]),s._v(" "),a("p",[s._v("1\nsystemctl stop firewalld.service\n查看运行状态")]),s._v(" "),a("p",[s._v("1\nfirewall-cmd --state //running 表示运行")])])}),[],!1,null,null,null);t.default=n.exports}}]);